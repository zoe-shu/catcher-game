"use strict";(self.webpackChunkzoe_catcher_app=self.webpackChunkzoe_catcher_app||[]).push([[390],{3160:(Ue,ne,h)=>{h.d(ne,{B:()=>Q});var u=h(5879),v=h(7104);let i=(()=>{class A{constructor(C){this.firestore=C,this.rankingList=[]}getRanking(C){return this.rankingList=[],this.firestore.collection("records",p=>p.orderBy("scores","desc").limit(C)).get().subscribe(p=>{p.docs.forEach(U=>{this.rankingList.push(U.data())})}),this.rankingList}getUpdates(C){return this.firestore.collection("records",p=>p.orderBy("scores","desc").limit(C)).valueChanges()}static#e=this.\u0275fac=function(p){return new(p||A)(u.LFG(v.ST))};static#t=this.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();var y=h(6814);function N(A,M){if(1&A&&(u.TgZ(0,"div",10)(1,"div",11),u._uU(2),u.qZA(),u.TgZ(3,"div",11),u._uU(4),u.qZA(),u.TgZ(5,"div",12),u._uU(6),u.qZA()()),2&A){const C=M.$implicit,p=M.index;u.xp6(2),u.Oqu(p+1),u.xp6(2),u.Oqu(C.scores),u.xp6(2),u.Oqu(C.name)}}function ae(A,M){if(1&A&&(u.ynx(0),u.TgZ(1,"div",4)(2,"div",5)(3,"div",6),u._uU(4,"Rank"),u.qZA(),u.TgZ(5,"div",7),u._uU(6,"Scores"),u.qZA(),u.TgZ(7,"div",8),u._uU(8,"Name"),u.qZA()(),u.YNc(9,N,7,3,"div",9),u.qZA(),u.BQk()),2&A){const C=u.oxw();u.xp6(9),u.Q6J("ngForOf",C.rankingList)}}function H(A,M){1&A&&(u.ynx(0),u._uU(1," No Records "),u.BQk())}const k=function(A){return{"no-bg":A}};let Q=(()=>{class A{constructor(C){this.rankingService=C,this.limit=100,this.isRequestFetchData=!1,this.rankingList=[]}ngOnInit(){this.rankingList=this.rankingService.getRanking(this.limit),this.rankingService.getUpdates(this.limit).subscribe(C=>{this.rankingList=[],C.forEach(p=>{this.rankingList.push(p)})})}refreshBoard(){this.rankingList=this.rankingService.getRanking(this.limit)}ngOnChanges(){this.isRequestFetchData&&this.refreshBoard()}static#e=this.\u0275fac=function(p){return new(p||A)(u.Y36(i))};static#t=this.\u0275cmp=u.Xpm({type:A,selectors:[["app-leaderboard"]],inputs:{limit:"limit",isRequestFetchData:"isRequestFetchData"},features:[u.TTD],decls:6,vars:6,consts:[[1,"leaderboard-section"],[4,"ngIf"],[1,"pt-2"],["href","/",1,"btn","custom-btn"],[1,"board-container","text-white"],[1,"row","rank-title-row"],[1,"col-3","col-sm-2","rank-title"],[1,"col-2","rank-title"],[1,"col","rank-title"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-2"],[1,"col"]],template:function(p,U){1&p&&(u.TgZ(0,"div",0),u.YNc(1,ae,10,1,"ng-container",1),u.YNc(2,H,2,0,"ng-container",1),u.TgZ(3,"div",2)(4,"a",3),u._uU(5," Home "),u.qZA()()()),2&p&&(u.Tol(u.VKq(4,k,U.isRequestFetchData)),u.xp6(1),u.Q6J("ngIf",U.rankingList.length>0),u.xp6(1),u.Q6J("ngIf",0==U.rankingList.length))},dependencies:[y.sg,y.O5],styles:[".leaderboard-section[_ngcontent-%COMP%]{min-height:100vh;width:100%;background-image:url(bg2.c3b88afb52159d87.png);text-align:center;padding:10%}.leaderboard-section.no-bg[_ngcontent-%COMP%]{background:none;height:auto;min-height:auto;padding:5%}.leaderboard-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:6px auto}.leaderboard-section[_ngcontent-%COMP%]   .board-container[_ngcontent-%COMP%]{padding:10px;background:rgba(0,0,0,.4)}.leaderboard-section[_ngcontent-%COMP%]   .rank-title-row[_ngcontent-%COMP%]{border-bottom:1px solid white;margin-bottom:1rem}.leaderboard-section[_ngcontent-%COMP%]   .rank-title[_ngcontent-%COMP%]{font-weight:700;font-size:large}.leaderboard-section[_ngcontent-%COMP%]   .name-col[_ngcontent-%COMP%]{word-break:break-all}"]})}return A})()},2390:(Ue,ne,h)=>{h.r(ne),h.d(ne,{LeaderboardModule:()=>C});var u=h(6814),v=h(8878),i=h(3160),y=h(5879);const N=[{path:"",component:i.B}];let ae=(()=>{class p{static#e=this.\u0275fac=function(j){return new(j||p)};static#t=this.\u0275mod=y.oAB({type:p});static#n=this.\u0275inj=y.cJS({imports:[v.Bz.forChild(N),v.Bz]})}return p})();var H=h(7217),k=h(721),Q=h(4162),A=h(4643),M=h(6358);let C=(()=>{class p{static#e=this.\u0275fac=function(j){return new(j||p)};static#t=this.\u0275mod=y.oAB({type:p});static#n=this.\u0275inj=y.cJS({providers:[{provide:H.Dh,useValue:M.N.firebase}],imports:[u.ez,ae,(0,k.hX)(()=>(0,k.ZF)(M.N.firebase)),(0,Q.AR)(()=>(0,Q.v0)()),(0,A.Cm)(()=>(0,A.ad)())]})}return p})()},7213:(Ue,ne,h)=>{h.d(ne,{zQ:()=>ge,ww:()=>X,rT:()=>re,f7:()=>fe,L6:()=>ue,_Q:()=>Ie,lh:()=>ie,Qv:()=>de,nw:()=>Ae}),h(4015);var v=h(6814),i=h(5879),y=h(1920),N=h(7217),ae=h(8645),H=h(2096),k=h(5592),Q=h(2459),A=h(3019),M=h(3093),C=h(4664),p=h(7398),U=h(4552);class le extends ae.x{constructor(b=1/0,L=1/0,m=U.l){super(),this._bufferSize=b,this._windowTime=L,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=L===1/0,this._bufferSize=Math.max(1,b),this._windowTime=Math.max(1,L)}next(b){const{isStopped:L,_buffer:m,_infiniteTimeWindow:P,_timestampProvider:I,_windowTime:x}=this;L||(m.push(b),!P&&m.push(I.now()+x)),this._trimBuffer(),super.next(b)}_subscribe(b){this._throwIfClosed(),this._trimBuffer();const L=this._innerSubscribe(b),{_infiniteTimeWindow:m,_buffer:P}=this,I=P.slice();for(let x=0;x<I.length&&!b.closed;x+=m?1:2)b.next(I[x]);return this._checkFinalizedStatuses(b),L}_trimBuffer(){const{_bufferSize:b,_timestampProvider:L,_buffer:m,_infiniteTimeWindow:P}=this,I=(P?1:2)*b;if(b<1/0&&I<m.length&&m.splice(0,m.length-I),!P){const x=L.now();let $=0;for(let T=1;T<m.length&&m[T]<=x;T+=2)$=T;$&&m.splice(0,$+1)}}}var j=h(3020);function ye(R,b,L){let m,P=!1;return R&&"object"==typeof R?({bufferSize:m=1/0,windowTime:b=1/0,refCount:P=!1,scheduler:L}=R):m=R??1/0,(0,j.B)({connector:()=>new le(m,b,L),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:P})}var De=h(1374),_e=h(4674);function d(R,b){return(0,_e.m)(b)?(0,C.w)(()=>R,b):(0,C.w)(()=>R)}var he=h(5137),xe=h(2181),Fe=h(7142);const de=new i.OlP("angularfire2.auth.use-emulator"),ue=new i.OlP("angularfire2.auth.settings"),Ie=new i.OlP("angularfire2.auth.tenant-id"),re=new i.OlP("angularfire2.auth.langugage-code"),ie=new i.OlP("angularfire2.auth.use-device-language"),fe=new i.OlP("angularfire.auth.persistence"),Ae=(R,b,L,m,P,I,x,$)=>(0,N.cc)(`${R.name}.auth`,"AngularFireAuth",R.name,()=>{const T=b.runOutsideAngular(()=>R.auth());if(L&&T.useEmulator(...L),m&&(T.tenantId=m),T.languageCode=P,I&&T.useDeviceLanguage(),x)for(const[q,F]of Object.entries(x))T.settings[q]=F;return $&&T.setPersistence($),T},[L,m,P,I,x,$]);let ge=(()=>{class R{authState;idToken;user;idTokenResult;credential;constructor(L,m,P,I,x,$,T,q,F,Ne,we,ce){const Y=new ae.x,K=(0,H.of)(void 0).pipe((0,M.Q)(x.outsideAngular),(0,C.w)(()=>I.runOutsideAngular(()=>Promise.resolve().then(h.bind(h,4015)))),(0,p.U)(()=>(0,N.on)(L,I,m)),(0,p.U)(D=>Ae(D,I,$,q,F,Ne,T,we)),ye({bufferSize:1,refCount:!1}));if((0,v.PM)(P))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{K.pipe((0,De.P)()).subscribe();const D=K.pipe((0,C.w)(O=>O.getRedirectResult().then(z=>z,()=>null)),y.iC,ye({bufferSize:1,refCount:!1})),pe=K.pipe((0,C.w)(O=>new k.y(z=>({unsubscribe:I.runOutsideAngular(()=>O.onAuthStateChanged(ee=>z.next(ee),ee=>z.error(ee),()=>z.complete()))})))),me=K.pipe((0,C.w)(O=>new k.y(z=>({unsubscribe:I.runOutsideAngular(()=>O.onIdTokenChanged(ee=>z.next(ee),ee=>z.error(ee),()=>z.complete()))}))));this.authState=D.pipe(d(pe),(0,he.R)(x.outsideAngular),(0,M.Q)(x.insideAngular)),this.user=D.pipe(d(me),(0,he.R)(x.outsideAngular),(0,M.Q)(x.insideAngular)),this.idToken=this.user.pipe((0,C.w)(O=>O?(0,Q.D)(O.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,C.w)(O=>O?(0,Q.D)(O.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,A.T)(D,Y,this.authState.pipe((0,xe.h)(O=>!O))).pipe((0,p.U)(O=>O?.user?O:null),(0,he.R)(x.outsideAngular),(0,M.Q)(x.insideAngular))}return(0,N.pX)(this,K,I,{spy:{apply:(D,pe,me)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&me.then(O=>Y.next(O))}}})}static \u0275fac=function(m){return new(m||R)(i.LFG(N.Dh),i.LFG(N.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(y.HU),i.LFG(de,8),i.LFG(ue,8),i.LFG(Ie,8),i.LFG(re,8),i.LFG(ie,8),i.LFG(fe,8),i.LFG(y.Rf,8))};static \u0275prov=i.Yz7({token:R,factory:R.\u0275fac,providedIn:"any"})}return R})(),X=(()=>{class R{constructor(){Fe.Z.registerVersion("angularfire",y.q4.full,"auth-compat")}static \u0275fac=function(m){return new(m||R)};static \u0275mod=i.oAB({type:R});static \u0275inj=i.cJS({providers:[ge]})}return R})()},7104:(Ue,ne,h)=>{h.d(ne,{ST:()=>Te,yb:()=>Je});var u=h(6814),v=h(5879),i=h(1920),y=h(7217),N=h(7213),ae=h(6321),H=h(5592),k=h(2459),Q=h(2096),A=h(7921),M=h(9360),C=h(8251);function p(){return(0,M.e)((l,e)=>{let t,o=!1;l.subscribe((0,C.x)(e,c=>{const w=t;t=c,o&&e.next([w,c]),o=!0}))})}var U=h(7398),le=h(6699),j=h(3997),ye=h(2181),_e=(h(4015),h(3106)),d=h(5588),he=h(9058),xe=h(4537);function de(l,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new d.WA("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return e}function ue(){if(typeof Uint8Array>"u")throw new d.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,d.Me)())throw new d.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class re{constructor(e){this._delegate=e}static fromBase64String(e){return Ie(),new re(d.Jj.fromBase64String(e))}static fromUint8Array(e){return ue(),new re(d.Jj.fromUint8Array(e))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return ue(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ie(l){return function fe(l,e){if("object"!=typeof l||null===l)return!1;const t=l;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(l,["next","error","complete"])}class Ae{enableIndexedDbPersistence(e,t){return(0,d.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,d.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,d.Fc)(e._delegate)}}class ge{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof d.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&(0,d.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){(0,d.at)(this._delegate,e,t,o)}enableNetwork(){return(0,d.Ix)(this._delegate)}disableNetwork(){return(0,d.TF)(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,(0,d.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,d.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,d.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new d.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ce(this,(0,d.hJ)(this._delegate,e))}catch(t){throw I(t,"collection()","Firestore.collection()")}}doc(e){try{return new P(this,(0,d.JU)(this._delegate,e))}catch(t){throw I(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new F(this,(0,d.B$)(this._delegate,e))}catch(t){throw I(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,d.i3)(this._delegate,t=>e(new b(this,t)))}batch(){return(0,d.qY)(this._delegate),new L(new d.PU(this._delegate,e=>(0,d.GL)(this._delegate,e)))}loadBundle(e){return(0,d.Pb)(this._delegate,e)}namedQuery(e){return(0,d.L$)(this._delegate,e).then(t=>t?new F(this,t):null)}}class X extends d.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new re(new d.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return P.forKey(t,this.firestore,null)}}class b{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new X(e)}get(e){const t=Y(e);return this._delegate.get(t).then(o=>new T(this._firestore,new d.xU(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const c=Y(e);return o?(de("Transaction.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const w=Y(e);return 2===arguments.length?this._delegate.update(w,t):this._delegate.update(w,t,o,...c),this}delete(e){const t=Y(e);return this._delegate.delete(t),this}}class L{constructor(e){this._delegate=e}set(e,t,o){const c=Y(e);return o?(de("WriteBatch.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const w=Y(e);return 2===arguments.length?this._delegate.update(w,t):this._delegate.update(w,t,o,...c),this}delete(e){const t=Y(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class m{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new d.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new q(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=m.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let w=c.get(t);return w||(w=new m(e,new X(e),t),c.set(t,w)),w}}m.INSTANCES=new WeakMap;class P{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new X(e)}static forPath(e,t,o){if(e.length%2!=0)throw new d.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new P(t,new d.my(t._delegate,o,new d.Ky(e)))}static forKey(e,t,o){return new P(t,new d.my(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new ce(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ce(this.firestore,(0,d.hJ)(this._delegate,e))}catch(t){throw I(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof d.my&&(0,d.Eo)(this._delegate,e)}set(e,t){t=de("DocumentReference.set",t);try{return t?(0,d.pl)(this._delegate,e,t):(0,d.pl)(this._delegate,e)}catch(o){throw I(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?(0,d.r7)(this._delegate,e):(0,d.r7)(this._delegate,e,t,...o)}catch(c){throw I(c,"updateDoc()","DocumentReference.update()")}}delete(){return(0,d.oe)(this._delegate)}onSnapshot(...e){const t=x(e),o=$(e,c=>new T(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return(0,d.cf)(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?(0,d.kl)(this._delegate):"server"===e?.source?(0,d.Xk)(this._delegate):(0,d.QT)(this._delegate),t.then(o=>new T(this.firestore,new d.xU(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new P(this.firestore,this._delegate.withConverter(e?m.getInstance(this.firestore,e):null))}}function I(l,e,t){return l.message=l.message.replace(e,t),l}function x(l){for(const e of l)if("object"==typeof e&&!ie(e))return e;return{}}function $(l,e){var t,o;let c;return c=ie(l[0])?l[0]:ie(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:w=>{c.next&&c.next(e(w))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class T{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new P(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,d.qK)(this._delegate,e._delegate)}}class q extends T{data(e){const t=this._delegate.data(e);return this._delegate._converter||(0,d.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class F{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new X(e)}where(e,t,o){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.ar)(e,t,o)))}catch(c){throw I(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Xo)(e,t)))}catch(o){throw I(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.b9)(e)))}catch(t){throw I(t,"limit()","Query.limit()")}}limitToLast(e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.vh)(e)))}catch(t){throw I(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.e0)(...e)))}catch(t){throw I(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.TQ)(...e)))}catch(t){throw I(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Lx)(...e)))}catch(t){throw I(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new F(this.firestore,(0,d.IO)(this._delegate,(0,d.Wu)(...e)))}catch(t){throw I(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,d.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?(0,d.UQ)(this._delegate):"server"===e?.source?(0,d.zN)(this._delegate):(0,d.PL)(this._delegate),t.then(o=>new we(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=x(e),o=$(e,c=>new we(this.firestore,new d.W(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return(0,d.cf)(this._delegate,t,o)}withConverter(e){return new F(this.firestore,this._delegate.withConverter(e?m.getInstance(this.firestore,e):null))}}class Ne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new q(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class we{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new F(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new q(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ne(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new q(this._firestore,o))})}isEqual(e){return(0,d.qK)(this._delegate,e._delegate)}}class ce extends F{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new P(this.firestore,e):null}doc(e){try{return new P(this.firestore,void 0===e?(0,d.JU)(this._delegate):(0,d.JU)(this._delegate,e))}catch(t){throw I(t,"doc()","CollectionReference.doc()")}}add(e){return(0,d.ET)(this._delegate,e).then(t=>new P(this.firestore,t))}isEqual(e){return(0,d.Eo)(this._delegate,e._delegate)}withConverter(e){return new ce(this.firestore,this._delegate.withConverter(e?m.getInstance(this.firestore,e):null))}}function Y(l){return(0,d.Cf)(l,d.my)}class K{constructor(...e){this._delegate=new d.Lz(...e)}static documentId(){return new K(d.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof d.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class D{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,d.Bt)();return e._methodName="FieldValue.serverTimestamp",new D(e)}static delete(){const e=(0,d.AK)();return e._methodName="FieldValue.delete",new D(e)}static arrayUnion(...e){const t=(0,d.vr)(...e);return t._methodName="FieldValue.arrayUnion",new D(t)}static arrayRemove(...e){const t=(0,d.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new D(t)}static increment(e){const t=(0,d.nP)(e);return t._methodName="FieldValue.increment",new D(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pe={Firestore:ge,GeoPoint:d.F8,Timestamp:d.EK,Blob:re,Transaction:b,WriteBatch:L,DocumentReference:P,DocumentSnapshot:T,Query:F,QueryDocumentSnapshot:q,QuerySnapshot:we,CollectionReference:ce,FieldPath:K,FieldValue:D,setLogLevel:function R(l){(0,d.Ub)(l)},CACHE_SIZE_UNLIMITED:d.IX};!function O(l){(function me(l,e){l.INTERNAL.registerComponent(new xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(o,c)},"PUBLIC").setServiceProps(Object.assign({},pe)))})(l,(e,t)=>new ge(e,t,new Ae)),l.registerVersion("@firebase/firestore-compat","0.3.34")}(_e.Z);var z=h(7142);function G(l,e){return function ee(l,e=ae.z){return new H.y(t=>{let o;return null!=e?e.schedule(()=>{o=l.onSnapshot({includeMetadataChanges:!0},t)}):o=l.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(l,e)}function Re(l,e){return G(l,e).pipe((0,U.U)(t=>({payload:t,type:"query"})))}class Me{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:c,query:w}=be(o,t);return new ke(c,w,this.afs)}snapshotChanges(){return function Ce(l,e){return G(l,e).pipe((0,A.O)(void 0),p(),(0,U.U)(t=>{const[o,c]=t;return c.exists?o?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,U.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,k.D)(this.ref.get(e)).pipe(i.iC)}}function ve(l,e){return Re(l,e).pipe((0,A.O)(void 0),p(),(0,U.U)(t=>{const[o,c]=t,w=c.payload.docChanges(),se=w.map(W=>({type:W.type,payload:W}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((W,Le)=>{const Ee=w.find(r=>r.doc.ref.isEqual(W.ref)),s=o?.payload.docs.find(r=>r.ref.isEqual(W.ref));Ee&&JSON.stringify(Ee.doc.metadata)===JSON.stringify(W.metadata)||!Ee&&s&&JSON.stringify(s.metadata)===JSON.stringify(W.metadata)||se.push({type:"modified",payload:{oldIndex:Le,newIndex:Le,type:"modified",doc:W}})}),se}))}function Pe(l,e,t){return ve(l,t).pipe((0,le.R)((o,c)=>function Ve(l,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(l=function ze(l,e){switch(e.type){case"added":if(!l[e.newIndex]||!l[e.newIndex].doc.ref.isEqual(e.doc.ref))return Se(l,e.newIndex,0,e);break;case"modified":if(null==l[e.oldIndex]||l[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=l.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Se(l,e.newIndex,1,e)}break;case"removed":if(l[e.oldIndex]&&l[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Se(l,e.oldIndex,1)}return l}(l,o))}),l}(o,c.map(w=>w.payload),e),[]),(0,j.x)(),(0,U.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function Se(l,e,t,...o){const c=l.slice();return c.splice(e,t,...o),c}function te(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class ke{ref;query;afs;constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=ve(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,U.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,A.O)(void 0),p(),(0,ye.h)(([o,c])=>c.length>0||!o),(0,U.U)(([,o])=>o),i.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,le.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=te(e);return Pe(this.query,t,this.afs.schedulers.outsideAngular).pipe(i.iC)}valueChanges(e={}){return Re(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(t=>t.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),i.iC)}get(e){return(0,k.D)(this.query.get(e)).pipe(i.iC)}add(e){return this.ref.add(e)}doc(e){return new Me(this.ref.doc(e),this.afs)}}class $e{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ve(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ye.h)(t=>t.length>0),i.iC):ve(this.query,this.afs.schedulers.outsideAngular).pipe(i.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,le.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=te(e);return Pe(this.query,t,this.afs.schedulers.outsideAngular).pipe(i.iC)}valueChanges(e={}){return Re(this.query,this.afs.schedulers.outsideAngular).pipe((0,U.U)(o=>o.payload.docs.map(c=>e.idField?{[e.idField]:c.id,...c.data()}:c.data())),i.iC)}get(e){return(0,k.D)(this.query.get(e)).pipe(i.iC)}}const We=new v.OlP("angularfire2.enableFirestorePersistence"),Ze=new v.OlP("angularfire2.firestore.persistenceSettings"),Ge=new v.OlP("angularfire2.firestore.settings"),B=new v.OlP("angularfire2.firestore.use-emulator");function be(l,e=(t=>t)){return{query:e(l),ref:l}}let Te=(()=>{class l{schedulers;firestore;persistenceEnabled$;constructor(t,o,c,w,se,W,Le,Ee,s,r,n,a,f,g,E,S,Z){this.schedulers=Le;const V=(0,y.on)(t,W,o),J=s;r&&(0,N.nw)(V,W,n,f,g,E,a,S),[this.firestore,this.persistenceEnabled$]=(0,y.cc)(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const _=W.runOutsideAngular(()=>V.firestore());if(w&&_.settings(w),J&&_.useEmulator(...J),c&&!(0,u.PM)(se)){const oe=()=>{try{return(0,k.D)(_.enablePersistence(Ee||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),(0,Q.of)(!1)}};return[_,W.runOutsideAngular(oe)]}return[_,(0,Q.of)(!1)]},[w,J,c])}collection(t,o){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:w,query:se}=be(c,o),W=this.schedulers.ngZone.run(()=>w);return new ke(W,se,this)}collectionGroup(t,o){const c=o||(se=>se),w=this.firestore.collectionGroup(t);return new $e(c(w),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>o);return new Me(c,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||l)(v.LFG(y.Dh),v.LFG(y.xv,8),v.LFG(We,8),v.LFG(Ge,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(i.HU),v.LFG(Ze,8),v.LFG(B,8),v.LFG(N.zQ,8),v.LFG(N.Qv,8),v.LFG(N.L6,8),v.LFG(N._Q,8),v.LFG(N.rT,8),v.LFG(N.lh,8),v.LFG(N.f7,8),v.LFG(i.Rf,8))};static \u0275prov=v.Yz7({token:l,factory:l.\u0275fac,providedIn:"any"})}return l})(),Je=(()=>{class l{constructor(){z.Z.registerVersion("angularfire",i.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:l,providers:[{provide:We,useValue:!0},{provide:Ze,useValue:t}]}}static \u0275fac=function(o){return new(o||l)};static \u0275mod=v.oAB({type:l});static \u0275inj=v.cJS({providers:[Te]})}return l})()},4015:(Ue,ne,h)=>{h.r(ne);var u=h(5861),v=h(3106),i=h(6376),y=h(9058),H=(h(534),h(7879),h(4537));function k(){return window}function M(){return M=(0,u.Z)(function*(s,r,n){var a;const{BuildInfo:f}=k();(0,i.au)(r.sessionId,"AuthEvent did not contain a session ID");const g=yield function De(s){return _e.apply(this,arguments)}(r.sessionId),E={};return(0,i.av)()?E.ibi=f.packageName:(0,i.aw)()?E.apn=f.packageName:(0,i.ax)(s,"operation-not-supported-in-this-environment"),f.displayName&&(E.appDisplayName=f.displayName),E.sessionId=g,(0,i.ay)(s,n,r.type,void 0,null!==(a=r.eventId)&&void 0!==a?a:void 0,E)}),M.apply(this,arguments)}function p(){return(p=(0,u.Z)(function*(s){const{BuildInfo:r}=k(),n={};(0,i.av)()?n.iosBundleId=r.packageName:(0,i.aw)()?n.androidPackageName=r.packageName:(0,i.ax)(s,"operation-not-supported-in-this-environment"),yield(0,i.az)(s,n)})).apply(this,arguments)}function j(){return(j=(0,u.Z)(function*(s,r,n){const{cordova:a}=k();let f=()=>{};try{yield new Promise((g,E)=>{let S=null;function Z(){var _;g();const oe=null===(_=a.plugins.browsertab)||void 0===_?void 0:_.close;"function"==typeof oe&&oe(),"function"==typeof n?.close&&n.close()}function V(){S||(S=window.setTimeout(()=>{E((0,i.aB)(s,"redirect-cancelled-by-user"))},2e3))}function J(){"visible"===document?.visibilityState&&V()}r.addPassiveListener(Z),document.addEventListener("resume",V,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",J,!1),f=()=>{r.removePassiveListener(Z),document.removeEventListener("resume",V,!1),document.removeEventListener("visibilitychange",J,!1),S&&window.clearTimeout(S)}})}finally{f()}})).apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(s){const r=function d(s){if((0,i.au)(/[0-9a-zA-Z]+/.test(s),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(s);const r=new ArrayBuffer(s.length),n=new Uint8Array(r);for(let a=0;a<s.length;a++)n[a]=s.charCodeAt(a);return n}(s),n=yield crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(f=>f.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xe extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(r=>{this.resolveInitialized=r})}addPassiveListener(r){this.passiveListeners.add(r)}removePassiveListener(r){this.passiveListeners.delete(r)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(r){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(r)),super.onEvent(r)}initialized(){var r=this;return(0,u.Z)(function*(){yield r.initPromise})()}}function de(s){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(s){const r=yield ie()._get(fe(s));return r&&(yield ie()._remove(fe(s))),r})).apply(this,arguments)}function re(){const s=[];for(let n=0;n<20;n++){const a=Math.floor(62*Math.random());s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(a))}return s.join("")}function ie(){return(0,i.aE)(i.b)}function fe(s){return(0,i.aF)("authEvent",s.config.apiKey,s.name)}function X(s){if(!s?.includes("?"))return{};const[r,...n]=s.split("?");return(0,y.zd)(n.join("?"))}const L=class b{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(r){var n=this;return(0,u.Z)(function*(){const a=r._key();let f=n.eventManagers.get(a);return f||(f=new xe(r),n.eventManagers.set(a,f),n.attachCallbackListeners(r,f)),f})()}_openPopup(r){(0,i.ax)(r,"operation-not-supported-in-this-environment")}_openRedirect(r,n,a,f){var g=this;return(0,u.Z)(function*(){!function ye(s){var r,n,a,f,g,E,S,Z,V,J;const _=k();(0,i.aC)("function"==typeof(null===(r=_?.universalLinks)||void 0===r?void 0:r.subscribe),s,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(n=_?.BuildInfo)||void 0===n?void 0:n.packageName)<"u",s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(g=null===(f=null===(a=_?.cordova)||void 0===a?void 0:a.plugins)||void 0===f?void 0:f.browsertab)||void 0===g?void 0:g.openUrl),s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(Z=null===(S=null===(E=_?.cordova)||void 0===E?void 0:E.plugins)||void 0===S?void 0:S.browsertab)||void 0===Z?void 0:Z.isAvailable),s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(J=null===(V=_?.cordova)||void 0===V?void 0:V.InAppBrowser)||void 0===J?void 0:J.open),s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(r);const E=yield g._initialize(r);yield E.initialized(),E.resetRedirect(),(0,i.aI)(),yield g._originValidation(r);const S=function Fe(s,r,n=null){return{type:r,eventId:n,urlResponse:null,sessionId:re(),postBody:null,tenantId:s.tenantId,error:(0,i.aB)(s,"no-auth-event")}}(r,a,f);yield function Oe(s,r){return ie()._set(fe(s),r)}(r,S);const Z=yield function A(s,r,n){return M.apply(this,arguments)}(r,S,n),V=yield function U(s){const{cordova:r}=k();return new Promise(n=>{r.plugins.browsertab.isAvailable(a=>{let f=null;a?r.plugins.browsertab.openUrl(s):f=r.InAppBrowser.open(s,(0,i.aA)()?"_blank":"_system","location=yes"),n(f)})})}(Z);return function le(s,r,n){return j.apply(this,arguments)}(r,E,V)})()}_isIframeWebStorageSupported(r,n){throw new Error("Method not implemented.")}_originValidation(r){const n=r._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function C(s){return p.apply(this,arguments)}(r)),this.originValidationPromises[n]}attachCallbackListeners(r,n){const{universalLinks:a,handleOpenURL:f,BuildInfo:g}=k(),E=setTimeout((0,u.Z)(function*(){yield de(r),n.onEvent(m())}),500),S=function(){var J=(0,u.Z)(function*(_){clearTimeout(E);const oe=yield de(r);let Be=null;oe&&_?.url&&(Be=function Ie(s,r){var n,a;const f=function ge(s){const r=X(s),n=r.link?decodeURIComponent(r.link):void 0,a=X(n).link,f=r.deep_link_id?decodeURIComponent(r.deep_link_id):void 0;return X(f).link||f||a||n||s}(r);if(f.includes("/__/auth/callback")){const g=X(f),E=g.firebaseError?function Ae(s){try{return JSON.parse(s)}catch{return null}}(decodeURIComponent(g.firebaseError)):null,S=null===(a=null===(n=E?.code)||void 0===n?void 0:n.split("auth/"))||void 0===a?void 0:a[1],Z=S?(0,i.aB)(S):null;return Z?{type:s.type,eventId:s.eventId,tenantId:s.tenantId,error:Z,urlResponse:null,sessionId:null,postBody:null}:{type:s.type,eventId:s.eventId,tenantId:s.tenantId,sessionId:s.sessionId,urlResponse:f,postBody:null}}return null}(oe,_.url)),n.onEvent(Be||m())});return function(oe){return J.apply(this,arguments)}}();typeof a<"u"&&"function"==typeof a.subscribe&&a.subscribe(null,S);const Z=f,V=`${g.packageName.toLowerCase()}://`;k().handleOpenURL=function(){var J=(0,u.Z)(function*(_){if(_.toLowerCase().startsWith(V)&&S({url:_}),"function"==typeof Z)try{Z(_)}catch(oe){console.error(oe)}});return function(_){return J.apply(this,arguments)}}()}};function m(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function T(){var s;return(null===(s=self?.location)||void 0===s?void 0:s.protocol)||null}function F(s=(0,y.z$)()){return!("file:"!==T()&&"ionic:"!==T()&&"capacitor:"!==T()||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function K(){try{const s=self.localStorage,r=i.aN();if(s)return s.setItem(r,"1"),s.removeItem(r),!function Y(s=(0,y.z$)()){return function we(){return(0,y.w1)()&&11===document?.documentMode}()||function ce(s=(0,y.z$)()){return/Edge\/\d+/.test(s)}(s)}()||(0,y.hl)()}catch{return D()&&(0,y.hl)()}return!1}function D(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pe(){return(function q(){return"http:"===T()||"https:"===T()}()||(0,y.ru)()||F())&&!function Ne(){return(0,y.b$)()||(0,y.UG)()}()&&K()&&!D()}function me(){return F()&&typeof document<"u"}function z(){return(z=(0,u.Z)(function*(){return!!me()&&new Promise(s=>{const r=setTimeout(()=>{s(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(r),s(!0)})})})).apply(this,arguments)}const G={LOCAL:"local",NONE:"none",SESSION:"session"},Ce=i.aC,Re="persistence";function ve(s){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(s){yield s._initializationPromise;const r=Se(),n=i.aF(Re,s.config.apiKey,s.name);r&&r.setItem(n,s._getPersistence())})).apply(this,arguments)}function Se(){var s;try{return(null===(s=function ee(){return typeof window<"u"?window:null}())||void 0===s?void 0:s.sessionStorage)||null}catch{return null}}const ze=i.aC;class te{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(L),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(r){var n=this;return(0,u.Z)(function*(){return yield n.selectUnderlyingResolver(),n.assertedUnderlyingResolver._initialize(r)})()}_openPopup(r,n,a,f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._openPopup(r,n,a,f)})()}_openRedirect(r,n,a,f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._openRedirect(r,n,a,f)})()}_isIframeWebStorageSupported(r,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(r,n)}_originValidation(r){return this.assertedUnderlyingResolver._originValidation(r)}get _shouldInitProactively(){return me()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var r=this;return(0,u.Z)(function*(){if(r.underlyingResolver)return;const n=yield function O(){return z.apply(this,arguments)}();r.underlyingResolver=n?r.cordovaResolver:r.browserResolver})()}}function ke(s){return s.unwrap()}function We(s){return Ge(s)}function Ge(s){const{_tokenResponse:r}=s instanceof y.ZR?s.customData:s;if(!r)return null;if(!(s instanceof y.ZR)&&"temporaryProof"in r&&"phoneNumber"in r)return i.P.credentialFromResult(s);const n=r.providerId;if(!n||n===i.p.PASSWORD)return null;let a;switch(n){case i.p.GOOGLE:a=i.X;break;case i.p.FACEBOOK:a=i.W;break;case i.p.GITHUB:a=i.Y;break;case i.p.TWITTER:a=i.$;break;default:const{oauthIdToken:f,oauthAccessToken:g,oauthTokenSecret:E,pendingToken:S,nonce:Z}=r;return g||E||f||S?S?n.startsWith("saml.")?i.aQ._create(n,S):i.N._fromParams({providerId:n,signInMethod:n,pendingToken:S,idToken:f,accessToken:g}):new i.Z(n).credential({idToken:f,accessToken:g,rawNonce:Z}):null}return s instanceof y.ZR?a.credentialFromError(s):a.credentialFromResult(s)}function B(s,r){return r.catch(n=>{throw n instanceof y.ZR&&function Ze(s,r){var n;const a=null===(n=r.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===r?.code)r.resolver=new Je(s,i.as(s,r));else if(a){const f=Ge(r),g=r;f&&(g.credential=f,g.tenantId=a.tenantId||void 0,g.email=a.email||void 0,g.phoneNumber=a.phoneNumber||void 0)}}(s,n),n}).then(n=>{const f=n.user;return{operationType:n.operationType,credential:We(n),additionalUserInfo:i.aq(n),user:l.getOrCreate(f)}})}function be(s,r){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(s,r){const n=yield r;return{verificationId:n.verificationId,confirm:a=>B(s,n.confirm(a))}})).apply(this,arguments)}class Je{constructor(r,n){this.resolver=n,this.auth=function $e(s){return s.wrapped()}(r)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(r){return B(ke(this.auth),this.resolver.resolveSignIn(r))}}class l{constructor(r){this._delegate=r,this.multiFactor=i.at(r)}static getOrCreate(r){return l.USER_MAP.has(r)||l.USER_MAP.set(r,new l(r)),l.USER_MAP.get(r)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(r){return this._delegate.getIdTokenResult(r)}getIdToken(r){return this._delegate.getIdToken(r)}linkAndRetrieveDataWithCredential(r){return this.linkWithCredential(r)}linkWithCredential(r){var n=this;return(0,u.Z)(function*(){return B(n.auth,i.a2(n._delegate,r))})()}linkWithPhoneNumber(r,n){var a=this;return(0,u.Z)(function*(){return be(a.auth,i.l(a._delegate,r,n))})()}linkWithPopup(r){var n=this;return(0,u.Z)(function*(){return B(n.auth,i.d(n._delegate,r,te))})()}linkWithRedirect(r){var n=this;return(0,u.Z)(function*(){return yield ve(i.aJ(n.auth)),i.g(n._delegate,r,te)})()}reauthenticateAndRetrieveDataWithCredential(r){return this.reauthenticateWithCredential(r)}reauthenticateWithCredential(r){var n=this;return(0,u.Z)(function*(){return B(n.auth,i.a3(n._delegate,r))})()}reauthenticateWithPhoneNumber(r,n){return be(this.auth,i.r(this._delegate,r,n))}reauthenticateWithPopup(r){return B(this.auth,i.e(this._delegate,r,te))}reauthenticateWithRedirect(r){var n=this;return(0,u.Z)(function*(){return yield ve(i.aJ(n.auth)),i.h(n._delegate,r,te)})()}sendEmailVerification(r){return i.ag(this._delegate,r)}unlink(r){var n=this;return(0,u.Z)(function*(){return yield i.ap(n._delegate,r),n})()}updateEmail(r){return i.al(this._delegate,r)}updatePassword(r){return i.am(this._delegate,r)}updatePhoneNumber(r){return i.u(this._delegate,r)}updateProfile(r){return i.ak(this._delegate,r)}verifyBeforeUpdateEmail(r,n){return i.ah(this._delegate,r,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}l.USER_MAP=new WeakMap;const e=i.aC;let t=(()=>{class s{constructor(n,a){if(this.app=n,a.isInitialized())return this._delegate=a.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:f}=n.options;e(f,"invalid-api-key",{appName:n.name}),e(f,"invalid-api-key",{appName:n.name});const g=typeof window<"u"?te:void 0;this._delegate=a.initialize({options:{persistence:c(f,n.name),popupRedirectResolver:g}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?l.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,a){i.K(this._delegate,n,a)}applyActionCode(n){return i.a7(this._delegate,n)}checkActionCode(n){return i.a8(this._delegate,n)}confirmPasswordReset(n,a){return i.a6(this._delegate,n,a)}createUserWithEmailAndPassword(n,a){var f=this;return(0,u.Z)(function*(){return B(f._delegate,i.aa(f._delegate,n,a))})()}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return i.af(this._delegate,n)}isSignInWithEmailLink(n){return i.ad(this._delegate,n)}getRedirectResult(){var n=this;return(0,u.Z)(function*(){e(pe(),n._delegate,"operation-not-supported-in-this-environment");const a=yield i.j(n._delegate,te);return a?B(n._delegate,Promise.resolve(a)):{credential:null,user:null}})()}addFrameworkForLogging(n){!function P(s,r){(0,i.aJ)(s)._logFramework(r)}(this._delegate,n)}onAuthStateChanged(n,a,f){const{next:g,error:E,complete:S}=o(n,a,f);return this._delegate.onAuthStateChanged(g,E,S)}onIdTokenChanged(n,a,f){const{next:g,error:E,complete:S}=o(n,a,f);return this._delegate.onIdTokenChanged(g,E,S)}sendSignInLinkToEmail(n,a){return i.ac(this._delegate,n,a)}sendPasswordResetEmail(n,a){return i.a5(this._delegate,n,a||void 0)}setPersistence(n){var a=this;return(0,u.Z)(function*(){let f;switch(function Me(s,r){Ce(Object.values(G).includes(r),s,"invalid-persistence-type"),(0,y.b$)()?Ce(r!==G.SESSION,s,"unsupported-persistence-type"):(0,y.UG)()?Ce(r===G.NONE,s,"unsupported-persistence-type"):D()?Ce(r===G.NONE||r===G.LOCAL&&(0,y.hl)(),s,"unsupported-persistence-type"):Ce(r===G.NONE||K(),s,"unsupported-persistence-type")}(a._delegate,n),n){case G.SESSION:f=i.a;break;case G.LOCAL:f=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case G.NONE:f=i.U;break;default:return i.ax("argument-error",{appName:a._delegate.name})}return a._delegate.setPersistence(f)})()}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return B(this._delegate,i.a0(this._delegate))}signInWithCredential(n){return B(this._delegate,i.a1(this._delegate,n))}signInWithCustomToken(n){return B(this._delegate,i.a4(this._delegate,n))}signInWithEmailAndPassword(n,a){return B(this._delegate,i.ab(this._delegate,n,a))}signInWithEmailLink(n,a){return B(this._delegate,i.ae(this._delegate,n,a))}signInWithPhoneNumber(n,a){return be(this._delegate,i.s(this._delegate,n,a))}signInWithPopup(n){var a=this;return(0,u.Z)(function*(){return e(pe(),a._delegate,"operation-not-supported-in-this-environment"),B(a._delegate,i.c(a._delegate,n,te))})()}signInWithRedirect(n){var a=this;return(0,u.Z)(function*(){return e(pe(),a._delegate,"operation-not-supported-in-this-environment"),yield ve(a._delegate),i.f(a._delegate,n,te)})()}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return i.a9(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return s.Persistence=G,s})();function o(s,r,n){let a=s;"function"!=typeof s&&({next:a,error:r,complete:n}=s);const f=a;return{next:E=>f(E&&l.getOrCreate(E)),error:r,complete:n}}function c(s,r){const n=function Ve(s,r){const n=Se();if(!n)return[];const a=i.aF(Re,s,r);switch(n.getItem(a)){case G.NONE:return[i.U];case G.LOCAL:return[i.i,i.a];case G.SESSION:return[i.a];default:return[]}}(s,r);if(typeof self<"u"&&!n.includes(i.i)&&n.push(i.i),typeof window<"u")for(const a of[i.b,i.a])n.includes(a)||n.push(a);return n.includes(i.U)||n.push(i.U),n}class w{constructor(){this.providerId="phone",this._delegate=new i.P(ke(v.Z.auth()))}static credential(r,n){return i.P.credential(r,n)}verifyPhoneNumber(r,n){return this._delegate.verifyPhoneNumber(r,n)}unwrap(){return this._delegate}}w.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,w.PROVIDER_ID=i.P.PROVIDER_ID;const se=i.aC;class W{constructor(r,n,a=v.Z.app()){var f;se(null===(f=a.options)||void 0===f?void 0:f.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new i.R(a.auth(),r,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ee(s){s.INTERNAL.registerComponent(new H.wA("auth-compat",r=>{const n=r.getProvider("app-compat").getImmediate(),a=r.getProvider("auth");return new t(n,a)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:w,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:W,TwitterAuthProvider:i.$,Auth:t,AuthCredential:i.L,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),s.registerVersion("@firebase/auth-compat","0.5.11")}(v.Z)}}]);